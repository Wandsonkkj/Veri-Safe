<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fact-Web</title>
    <link rel="stylesheet" href="{{url_for('static', filename='css/homepage.css')}}">
</head>

<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ“° VerificaNews</div>
            <div class="subtitle">Descubra se uma notÃ­cia Ã© verdadeira ou falsa</div>
        </header>

        <div class="instructions fade-in">
            <h3>ğŸ” Como usar esta ferramenta:</h3>
            <ol>
                <li><strong>Cole o TÃ­tulo</strong> da notÃ­cia que vocÃª recebeu no WhatsApp, Facebook ou outro lugar</li>
                <li><strong>Clique no botÃ£o</strong> "Verificar se Ã© Verdade"</li>
                <li><strong>Aguarde alguns segundos</strong> enquanto analisamos</li>
                <li><strong>Veja o resultado</strong> e a explicaÃ§Ã£o detalhada</li>
            </ol>
        </div>

        <div class="glass-card fade-in">
            <h2 class="section-title">
                ğŸ” Verificar NotÃ­cia
            </h2>
            <form id="newsForm" method="post" action="/verify">
                {{ form.hidden_tag() }}
                <div class="form-group">
                    <label for="newsTitle">TÃ­tulo da NotÃ­cia</label>
                    {{ form.titulo(placeholder="Ex: Vacina causa efeitos colaterais graves...", id="newsTitle") }}
                </div>

                <!--<div class="form-group">
                    <label for="newsContent">ğŸ“ Cole aqui o texto da notÃ­cia que vocÃª quer verificar:</label>
                    <textarea id="newsContent" name="newsContent"
                        placeholder="Cole aqui todo o texto da notÃ­cia que vocÃª recebeu. Pode ser do WhatsApp, Facebook, ou qualquer outro lugar..."
                        required></textarea>
                </div> -->

                {{ form.submit(class="submit-btn") }}
            </form>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <div class="loading-text">Analisando a notÃ­cia... Por favor, aguarde.</div>
            </div>
        </div>

        <div class="glass-card fade-in" id="resultsSection" style="display: none;">
            <h2 class="section-title">
                ğŸ“‹ Resultado da VerificaÃ§Ã£o
            </h2>
            <div id="resultsList"></div>
            <button class="clear-btn" onclick="clearResults()">ğŸ—‘ï¸ Limpar Resultados</button>
        </div>

        <div class="help-section fade-in">
            <h3 class="help-title">ğŸ’¡ Dicas Importantes</h3>
            <div class="help-grid">
                <div class="help-item">
                    <div class="help-icon">âš ï¸</div>
                    <div class="help-text">Desconfie de notÃ­cias com tÃ­tulos muito alarmantes ou sensacionalistas</div>
                </div>
                <div class="help-item">
                    <div class="help-icon">ğŸ”—</div>
                    <div class="help-text">Verifique sempre a fonte da notÃ­cia antes de compartilhar</div>
                </div>
                <div class="help-item">
                    <div class="help-icon">ğŸ‘¥</div>
                    <div class="help-text">NÃ£o compartilhe notÃ­cias que nÃ£o foram verificadas</div>
                </div>
                <div class="help-item">
                    <div class="help-icon">ğŸ•’</div>
                    <div class="help-text">NotÃ­cias muito antigas podem estar fora de contexto</div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{url_for('static', filename='js/homepage.js')}}"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const resultadoFlask = {{ resultado | tojson }};
            const tituloFlask = {{ form.titulo.data | tojson }};

            if (resultadoFlask) {
                addResult(
                    tituloFlask || "NotÃ­cia sem tÃ­tulo",
                    tituloFlask || "",
                    resultadoFlask
                );
                document.getElementById('resultsSection').style.display = 'block';
            }
        });
</script>

</html>